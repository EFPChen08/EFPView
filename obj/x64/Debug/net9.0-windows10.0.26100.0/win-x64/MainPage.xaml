<Page
    x:Class="EFPView.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    muxc:BackdropMaterial.ApplyToRootOrPageBackground="True">

    <Page.Resources>
        <Thickness x:Key="NavigationViewContentMargin">0,48,0,0</Thickness>
        <Thickness x:Key="NavigationViewMinimalContentMargin">0,48,0,0</Thickness>
        <CornerRadius x:Key="NavigationViewContentGridCornerRadius">8,0,0,0</CornerRadius>
        <Style x:Key="TitleBarBackButtonStyle" TargetType="Button"
               BasedOn="{StaticResource NavigationBackButtonNormalStyle}">
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="8,0,8,0"/>
            <Setter Property="Visibility" Value="Collapsed"/>
        </Style>
    </Page.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition x:ConnectionId='2' x:Name="TopTitleBarRow" Height="0"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border x:ConnectionId='3' x:Name="TopTitleBar"
            Grid.Row="0"
            Height="48"
            Background="Transparent"
            Visibility="Collapsed">
            
            <StackPanel Orientation="Horizontal"
                    VerticalAlignment="Center"
                    Margin="12,-8,0,0"
                    IsHitTestVisible="False">
                <Image Source="/Assets/Square44x44Logo.png"
                   Width="20" Height="20"
                   Stretch="Uniform"
                   Opacity="0.9"/>
                <TextBlock Text="EFP UWP WinUI 2.8开发框架"
                       Margin="8,0,0,0"
                       VerticalAlignment="Center"
                       FontSize="14"
                       Opacity="0.9"/>
            </StackPanel>
            
        </Border>

        <Grid Grid.Row="1">
            <muxc:NavigationView x:ConnectionId='4' x:Name="NavView"
                             x:FieldModifier="public"
                             IsTitleBarAutoPaddingEnabled="False"
                             IsBackButtonVisible="Visible"
                                                                  
                             PaneDisplayMode="Auto"
                                                              >
                <!-- OpenPaneLength为NavView项目宽度 -->
                <Frame x:ConnectionId='9' x:Name="ContentFrame"/>
                <muxc:NavigationView.MenuItems>
                    <muxc:NavigationViewItem Icon="Home" Content="主页" Tag="home"/>
                    <muxc:NavigationViewItem Icon="Document" Content="关于" Tag="controls"/>
                </muxc:NavigationView.MenuItems>
            </muxc:NavigationView>
            <Grid x:ConnectionId='5' x:Name="AppTitleBar" Height="48" VerticalAlignment="Top">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="48"/>
                    <ColumnDefinition x:ConnectionId='6' x:Name="HamburgerPlaceholderCol" Width="0"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Button x:ConnectionId='7' x:Name="TitleBarBackButton"
                    Grid.Column="0"
                    Width="48" Height="48"
                    Style="{StaticResource TitleBarBackButtonStyle}"
                                                    />
                <Border x:ConnectionId='8' x:Name="TitleBarDragRegion"
                    Grid.Column="2"
                    Background="Transparent">
                    <StackPanel Orientation="Horizontal"
                    VerticalAlignment="Center"
                    Margin="8,0,0,0"
                    IsHitTestVisible="False">
                        <Image Source="/Assets/Square44x44Logo.png"
                   Width="20" Height="20"
                   Stretch="Uniform"
                   Opacity="0.9"/>
                        <TextBlock Text="EFP UWP WinUI 2.8开发框架"
                       Margin="8,0,0,0"
                       VerticalAlignment="Center"
                       FontSize="14"
                       Opacity="0.9"/>
                    </StackPanel>

                </Border>
            </Grid>
        </Grid>
    </Grid>
</Page>

